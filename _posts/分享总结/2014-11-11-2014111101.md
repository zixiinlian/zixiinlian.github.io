---
layout: post
title: 经典面试题
category: 分享总结
---

>HTTP状态码

[HTTP状态码速记](/20141002)

>HTTP请求头

[HTTP请求头详解](/201408112)

>从输入url到页面加载都发生了什么事

* 解析域名（host，缓存，DNS域名解析服务器）
* 浏览器传输层建立TCP连接
* 浏览器向服务器发送请求命令
* 三次握手操作
* 服务器构建并响应（返回响应头及内容）
* 服务器断开连接
* 浏览器构建DOM树
* 浏览器构建Render树
* 浏览器加载图片，媒体等静态资源
* 浏览器渲染Render树


>cookie，localstorage，sessionstorage的区别

* localstorage,sessionstorage的缓存限制是5M；cookie每个domain只能有20条cookie，每条cookie的限制是4k，IE下是2k
* localstorage是永久存储，永不失效除非手动删除，属于持久保存；cookie是跟着页面走的; sessionstorage关掉页面就消失，属于非持久保存
* cookie会在客户端和浏览器端进行传递，localstorage和sessionstorage只存在本地
* sessionstorage在同域同窗口中共享，localstorage和cookie是在同源窗口中共享，不同窗口也可以共享
* localstorage和sessionstorage自己拥有setItem,getItem等API;而cookie需要自己封装响应的API
* localstorage和sessionstorage不支持IE7及以下浏览器不支持，cookie低版本浏览器也可以支持

>doctype的几种模式

strict（严谨模式），transitional（过渡模式），frameset（框架模式）


>grunt与gulp的区别

gulp是使用node的stream实现的，整个执行速度较grunt快

>捕获与冒泡及IE兼容性区别

DOM的事件模型（DOM事件流）：捕获型事件和冒泡型事件z<br>
事件捕获阶段：事件从最上一级标签开始往下查找，直到捕获到事件目标(target)。<br>
事件冒泡阶段：事件从事件目标(target)开始，往上冒泡直到页面的最上一级标签。<br>
IE只支持事件冒泡<br>
支持W3C标准的浏览器通过addEventListener(event,fn,useCapture)方法的第三个参数来区分是事件冒泡还是事件捕获，不支持W3C标准的浏览器通过attachEvent()方法，默认是事件冒泡时执行，所以要兼容，只能使用addEventListener，并设置useCapture为false

>解决跨域访问的几种方法

jsonp、 document.domain+iframe、window.name、window.postMessage、服务器上设置代理页面

>对象的几种创建方法

>js实现深度克隆

>js实现数组消重

>DOM操作-怎样添加、移除、移动、复制、创建和查找节点

>快速排序算法

>JQuery源码相关

>js有哪些常见的兼容性

* 阻止冒泡 W3C: e.stopPropagation() IE: return false
* 阻止默认事件  W3C: e.preventDefault() IE: e.returnValue = false
* 事件绑定：W3C: addEventListener() IE: attachEvent()
* event对象： W3C: event IE: window.event

>generator与promise

>利用localStorage怎么优化触屏端性能

application cache（离线缓存策略），建立manifest文件，通过存储文件的ETag和文件路径，判断文件是否需要更新


>HTTP请求响应头中关于缓存的对应关系

服务器端ETag和Last-Modified都是同样的效果，为了在服务器端验证文件是否修改
* If-None-Match/ETag
* If-Modified-Since/Last-Modified
* Cache-Control/Expries


>webpack的优势是什么

webpack是德国开发者开发的模块加载器，所有的资源如js，css，images都当做模块，来使用和引用
* 模块化开发思想，并使用commonJs和AMD规范
* 丰富的loader插件，支持扩展强大的功能
* 快速编译，使用异步IO及多级缓存，提高编译效率
* 可以跟React配合使用，支持热插拔

>React的优势是什么

* 虚拟DOM，当需要更新DOM节点，通过DOM diff算法替换，以最小粒度更新
* 单向数据绑定
* JSX，书写上可以把html内嵌到js文件中，更好的进行了封装
* React与Angular最大的区别是单向数据绑定跟双向数据绑定的区别
* Angular是MV*框架，是一个完整的框架，而React是实现可重复使用的view

>XSS与CSRF

XSS：就是脚本注入问题，获取到用户的相关信息，然后通过自己架设一个网站，让用户提交，随后以数据库的方式记录在攻击者自己的服务器上
解决方法：将用户输入的内容进行过滤

CSRF：伪造请求，冒充用户在站内的操作 （XSS只是CSRF其中一种）
解决方法：通过token令牌，保存在session里，访问接口的时候隐性传到服务器上进行比较

>js算出字符串的字节数

```js
var str='我我我';
var bytesCount;
for (var i = 0; i < str.length; i++)
{
  var c = str.charAt(i);
  if (/^[\u0000-\u00ff]$/.test(c)){
  	bytesCount += 1;
  } else {
  	bytesCount += 2;
  }
}
alert(bytesCount);
//结果是6
//原理也很简单，用正则判断是不是中文，如果是的话，字节数就加1。
```

>ajax原理

Ajax的工作原理相当于在用户和服务器之间加了—个中间层，使用户操作与服务器响应异步化。这样把以前的一些服务器负担的工作转嫁到客户端，利于客户端闲置的处理能力来处理，减轻服务器和带宽的负担，从而达到节约ISP的空间及带宽租用成本的目的。
通过XMLHttpRequest向服务器端发送请求，通过onreadystatechange去监听服务器返回的数据，当readyState为400，state为200的时候，通过responseText获取返回数据

>常用的两种继承方式是什么

类继承和原型链继承


>js动态创建一个table（主要考察基本DOM操作）

```js
var table = document.createElement("table");

table.setAttribute("id","table");
var tr1 = table.insertRow();
var td1 = tr1.insertCell();
td1.width = "200px";
td1.height = "200px";
td1.innerHTML = "内容";
document.body.appendChild(table);
```

>js原生获取屏幕宽度，滚动高度，元素位置

>nodeJs篇

>用nodeJS实现启一个服务

```js
var http = require("http");

http.createServer(function(request, response){
	response.writeHead(200,{"Content-Type","text/html"});
	response.end("hello world");
}).listen(3000);
var http = http.createListen();
```

>用nodeJS实现文件copy

```js

```

>React篇

>react生命周期

* 第一次渲染
  * getDefaultProps
  * getInitialState
  * componentWillMount
  * render
  * componentDidMount
* 重新渲染
  * componentWillReceiveProps
  * shouldComponentUpdate
  * componentWillUpdate
  * componentDidUpdate
* 摧毁
  * componentWillUnmount
